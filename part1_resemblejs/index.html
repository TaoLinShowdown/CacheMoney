<!DOCTYPE html>
<html lang="en">
  <head>
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/resemblejs@3.2.3/resemble.min.js"></script>
    <script>
        function compareImages() {
            var image = new Image();
            image.src = document.getElementById('parameter1').value
            var image2 = new Image();
            image2.src = document.getElementById('parameter2').value
            image2.onload = function() {
                var tiles = splitImage(image)
                var tiles2 = splitImage(image2)
                var differentTiles = []
                for (let i = 0; i < tiles.length; i++) {
                    var diff = resemble(tiles[i][0])
                    .compareTo(tiles2[i][0])
                    .ignoreColors()
                    .onComplete(function(data) {
                        if (data['misMatchPercentage'] > 0) {
                            differentTiles.push([tiles[i][1], tiles[i][2]])
                        }
                        if (i == tiles.length - 1)
                            console.log(differentTiles)
                    });
                }
            }
        }
        function splitImage(image) {
            var tiles = []
            for (let i = 0; i < image.width; i += 10) {
                for (let j = 0; j < image.height; j += 10) {
                    var canvas = document.createElement('canvas');
                    canvas.width = 10;
                    canvas.height = 10;
                    var context = canvas.getContext('2d');
                    context.drawImage(image, i, j, 10, 10, 0, 0, canvas.width, canvas.height);
                    tiles.push([canvas.toDataURL(), j/10, i/10]);
                }
            }
            return tiles
        }
    </script>
    <input type='text' id='parameter1' value=''>
    <input type='text' id='parameter2' value=''>
    <button id="processTest" onclick="compareImages()">Test</button>
  </body>
</html>